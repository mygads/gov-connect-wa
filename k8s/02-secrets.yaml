# ==================== GOVCONNECT SECRETS ====================
# Sensitive configuration - values are base64 encoded
# 
# To encode secrets: echo -n 'your-secret' | base64
# To decode: echo 'encoded-value' | base64 -d
#
# IMPORTANT: In production, use:
# - Kubernetes Secrets with RBAC
# - External Secrets Operator
# - HashiCorp Vault
# - AWS/GCP/Azure Secret Manager

apiVersion: v1
kind: Secret
metadata:
  name: govconnect-secrets
  namespace: govconnect
  labels:
    app.kubernetes.io/name: govconnect
    app.kubernetes.io/component: secrets
type: Opaque
data:
  # Database credentials
  # echo -n 'postgres' | base64
  DB_USER: cG9zdGdyZXM=
  # CHANGE THIS! echo -n 'your_strong_password_here' | base64
  DB_PASSWORD: Y2hhbmdlX21lX3N0cm9uZ19wYXNzd29yZA==
  
  # RabbitMQ credentials
  # echo -n 'admin' | base64
  RABBITMQ_USER: YWRtaW4=
  # CHANGE THIS! echo -n 'your_rabbitmq_password' | base64
  RABBITMQ_PASSWORD: Y2hhbmdlX21lX3JhYmJpdG1x
  
  # Internal API Key for service-to-service communication
  # CHANGE THIS! echo -n 'your_internal_api_key' | base64
  INTERNAL_API_KEY: Y2hhbmdlX21lX2ludGVybmFsX2FwaV9rZXk=
  
  # JWT Secret for dashboard authentication
  # CHANGE THIS! echo -n 'your_jwt_secret_32_chars_min' | base64
  JWT_SECRET: Y2hhbmdlX21lX2p3dF9zZWNyZXRfMzJfY2hhcnM=
  
  # Gemini API Key for AI Service
  # CHANGE THIS! echo -n 'your_gemini_api_key' | base64
  GEMINI_API_KEY: Y2hhbmdlX21lX2dlbWluaV9hcGlfa2V5
  
  # WhatsApp API Token
  # CHANGE THIS! echo -n 'your_wa_access_token' | base64
  WA_ACCESS_TOKEN: Y2hhbmdlX21lX3dhX3Rva2Vu

---
# ==================== DATABASE URL SECRETS ====================
# Pre-computed DATABASE_URLs for each service
apiVersion: v1
kind: Secret
metadata:
  name: database-urls
  namespace: govconnect
  labels:
    app.kubernetes.io/name: govconnect
    app.kubernetes.io/component: database
type: Opaque
stringData:
  # These will be base64 encoded automatically by Kubernetes
  # Format: postgresql://user:password@host:port/database?schema=schema_name
  CHANNEL_DATABASE_URL: "postgresql://postgres:change_me_strong_password@postgres:5432/govconnect?schema=channel"
  CASE_DATABASE_URL: "postgresql://postgres:change_me_strong_password@postgres:5432/govconnect?schema=cases"
  NOTIFICATION_DATABASE_URL: "postgresql://postgres:change_me_strong_password@postgres:5432/govconnect?schema=notification"
  DASHBOARD_DATABASE_URL: "postgresql://postgres:change_me_strong_password@postgres:5432/govconnect?schema=dashboard"

---
# ==================== RABBITMQ URL SECRET ====================
apiVersion: v1
kind: Secret
metadata:
  name: rabbitmq-url
  namespace: govconnect
  labels:
    app.kubernetes.io/name: govconnect
    app.kubernetes.io/component: messaging
type: Opaque
stringData:
  RABBITMQ_URL: "amqp://admin:change_me_rabbitmq@rabbitmq:5672/govconnect"
